/**
 * @版本: Senro.3.1.js(http://www.passtome.com/js/Senro.3.1.js)
 * @依赖: jquery 1.9.1(http://static.woniu.com/script/jquery/jquery-1.9.1.min.js)
 * @作者: senro(http://senro.cn)
 * @版权: senro.cn(http://www.passtome.com/)
 * @感谢: NightKnight(#)、蒹葭从风(#)、woniu.com(http://www.woniu.com)
 * @简介: Senro.js 是senro根据日常工作的需求开发的经验总结，目的是快速应对各种蜗牛前端开发中需要用到的常用js方法和组件，
 *       可以把这个对象想象成senro本人，它有自己的属性、方法。开发原则是尽量用一句话解决一个问题当然，尽量减少传参，参数按重要
 *       级别从左往右。由于水平有限，难免会有bug，和不完善，还请需要使用的各位，多多包涵，并指出不足，以便完善；
 * @包含: 核心公用方法(core)、常用组件(widget)、常用界面交互方法(UIInteractive)、常用后端交互方法(dataInteractive)、常用检测方法(check)、常用修复方法(fix)、资源加载(load)、常用js模拟html5效果方法(html5)、常用动画方法(animate)
 */
var Senro=function(e){function n(e){senro[e].state=!0,senro[e].action.fire();for(var n=0;n<senro[e].callbacks.length;n++)senro[e].callbacks[n]&&senro[e].callbacks[n](senro[e].objects[n]);return!1}if(arr_requireJs=e||[],senro=this,senro.version=3.1,senro.video={url:"http://static.woniu.com/script/jwplayer/jwplayer.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.swf={url:"http://static.woniu.com/js/swfobject.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.login={url:"http://static.woniu.com/script/widget/passport/login.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.register={url:"http://static.woniu.com/script/widget/passport/passport.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.iePng={url:"http://static.woniu.com/script/iepng/iepng.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.drag={url:"http://static.woniu.com/script/plugin/jquery-ui-drag.min.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.mouseWheel={url:"http://static.woniu.com/script/plugin/jquery.mousewheel.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.MSClass={url:"http://static.woniu.com/script/plugin/MSClass.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.animateColors={url:"http://static.woniu.com/script/plugin/jquery.animate-colors-min.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.cssSandpaper={url:"http://static.woniu.com/script/plugin/cssSandpaper.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.tweenLite={url:"http://static.woniu.com/script/plugin/greensock-v12-js/TweenLite.min.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.tweenMax={url:"http://static.woniu.com/script/plugin/greensock-v12-js/TweenMax.min.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.testHtml5={url:"http://static.woniu.com/script/plugin/modernizr.custom.testHtml5.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.preload={url:"http://static.woniu.com/script/plugin/preloadjs-0.3.1.min.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.mobile={url:"http://static.woniu.com/script/jquery/jquery.event.touch.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},"string"==typeof arr_requireJs&&(arr_requireJs=[arr_requireJs]),arr_requireJs.length>0)for(var t=0;t<arr_requireJs.length;t++)switch(arr_requireJs[t]){case"video":$.getScript(senro.video.url,function(){n("video")});break;case"swf":$.getScript(senro.swf.url,function(){n("swf")});break;case"login":$.getScript(senro.login.url,function(){n("login")});break;case"register":$.getScript(senro.register.url,function(){n("register")});break;case"iePng":senro.isIE6()&&$.getScript(senro.iePng.url,function(){n("iePng")});break;case"drag":$.getScript(senro.drag.url,function(){n("drag")});break;case"mouseWheel":$.getScript(senro.mouseWheel.url,function(){n("mouseWheel")});break;case"MSClass":$.getScript(senro.MSClass.url,function(){n("MSClass")});break;case"animateColors":$.getScript(senro.animateColors.url,function(){n("animateColors")});break;case"cssSandpaper":$.getScript(senro.cssSandpaper.url,function(){n("cssSandpaper")});break;case"tweenLite":$.getScript(senro.tweenLite.url,function(){n("tweenLite")});break;case"tweenMax":$.getScript(senro.tweenMax.url,function(){n("tweenMax")});break;case"testHtml5":$.getScript(senro.testHtml5.url,function(){n("testHtml5")});break;case"preload":$.getScript(senro.preload.url,function(){n("preload")});break;case"mobile":$.getScript(senro.mobile.url,function(){n("mobile")})}senro.errMsg={video:"请在初始化Senro()时加入'video',例如new Senro('video');如有多个请以数组形式。",swf:"请在初始化Senro()时加入'swf',例如new Senro('swf');如有多个请以数组形式。",login:"请在初始化Senro()时加入'login',例如new Senro('login');如有多个请以数组形式。",register:"请在初始化Senro()时加入'register',例如new Senro('register');如有多个请以数组形式。",iePng:"请在初始化Senro()时加入'iePng',例如new Senro('iePng');如有多个请以数组形式。",drag:"请在初始化Senro()时加入'drag',例如new Senro('drag');如有多个请以数组形式。",mouseWheel:"请在初始化Senro()时加入'mouseWheel',例如new Senro('mouseWheel');如有多个请以数组形式。",MSClass:"请在初始化Senro()时加入'MSClass',例如new Senro('MSClass');如有多个请以数组形式。",animateColors:"请在初始化Senro()时加入'animateColors',例如new Senro('animateColors');如有多个请以数组形式。",cssSandpaper:"请在初始化Senro()时加入'cssSandpaper',例如new Senro('cssSandpaper');如有多个请以数组形式。",tweenLite:"请在初始化Senro()时加入'tweenLite',例如new Senro('tweenLite');如有多个请以数组形式。",tweenMax:"请在初始化Senro()时加入'tweenMax',例如new Senro('tweenMax');如有多个请以数组形式。",testHtml5:"请在初始化Senro()时加入'testHtml5',例如new Senro('testHtml5');如有多个请以数组形式。",preload:"请在初始化Senro()时加入'preload',例如new Senro('preload');如有多个请以数组形式。",mobile:"请在初始化Senro()时加入'mobile',例如new Senro('mobile');如有多个请以数组形式。"},jQuery.extend({visibleHidden:function(e){return e.css({visibility:"hidden"}),!1},visibleShow:function(e){return e.css({visibility:"visible"}),!1}})};Senro.prototype={constructor:Senro,bigEye:function(e,n,t,s,r,o,a){function i(){if(d.length<w)for(var e=0,s=w-d.length;s>e;e++)d.eq(0).clone().appendTo(n);d.eq(0).addClass(t);for(var r=0;r<f.length;r++)r!=k&&f.eq(r).hide();"fade"==h&&f.css("position","absolute"),d=senro.getItems(n),d.bind(S,function(){return k=d.index(this),k==m||f.is(":animated")?!1:(c(k),m=k,!1)}),d.add(f).mouseenter(function(){C=!1}),d.add(f).mouseleave(function(){C=!0}),j&&l()}function l(){b=setInterval(function(){C&&(k++,k>=w&&(k=0),c(k),m=k)},v)}function c(e){switch(h){case"normal":u(e);break;case"fade":g(e)}return!1}function u(e){return f.eq(m).hide(),d.eq(m).removeClass(t),f.eq(e).show(),d.eq(e).addClass(t),!1}function g(e){return f.eq(m).fadeOut(200),d.eq(m).removeClass(t),f.eq(e).fadeIn(200),d.eq(e).addClass(t),!1}var p={items:$,dots:$,current:"",trigerType:"mouseenter",transType:"normal",autoPlay:!1,time:3e3};senro.parseArgus(arguments,p);var e=p.items,n=p.dots,t=p.current,s=p.trigerType,r=p.transType,o=p.autoPlay,a=p.time,d=senro.getItems(n),f=senro.getItems(e);if(null!=d&&null!=f){var m,b,w=f.length,S=s||"mouseenter",h=r||"normal",k=0,j=o||!1,v=a||3e3,C=!0;m=0,i()}else senro.console("bigEye检测到没有需要轮播的物体！");return!1},bigEye:function(e,n,t,s,r,o,a){function i(){if(d.length<w)for(var e=0,s=w-d.length;s>e;e++)d.eq(0).clone().appendTo(n);d.eq(0).addClass(t);for(var r=0;r<f.length;r++)r!=k&&f.eq(r).hide();"fade"==h&&f.css("position","absolute"),d=senro.getItems(n),d.bind(S,function(){return k=d.index(this),k==m||f.is(":animated")?!1:(c(k),m=k,!1)}),d.add(f).mouseenter(function(){C=!1}),d.add(f).mouseleave(function(){C=!0}),j&&l()}function l(){b=setInterval(function(){C&&(k++,k>=w&&(k=0),c(k),m=k)},v)}function c(e){switch(h){case"normal":u(e);break;case"fade":g(e)}return!1}function u(e){return f.eq(m).hide(),d.eq(m).removeClass(t),f.eq(e).show(),d.eq(e).addClass(t),!1}function g(e){return f.eq(m).fadeOut(200),d.eq(m).removeClass(t),f.eq(e).fadeIn(200),d.eq(e).addClass(t),!1}var p={items:$,dots:$,current:"",trigerType:"mouseenter",transType:"normal",autoPlay:!1,time:3e3};senro.parseArgus(arguments,p);var e=p.items,n=p.dots,t=p.current,s=p.trigerType,r=p.transType,o=p.autoPlay,a=p.time,d=senro.getItems(n),f=senro.getItems(e);if(null!=d&&null!=f){var m,b,w=f.length,S=s||"mouseenter",h=r||"normal",k=0,j=o||!1,v=a||3e3,C=!0;m=0,i()}else senro.console("bigEye检测到没有需要轮播的物体！");return!1},getItems:function(e){var n;if(e.find("div").length>0)n=1==e.find("div").length?e.find("div"):e.find("div").siblings();else if(e.find("li").length>0)n=1==e.find("li").length?e.find("li"):e.find("li").siblings();else if(e.find("a").length>0)n=1==e.find("a").length?e.find("a"):e.find("a").siblings();else{if(!(e.find("img").length>0))return null;n=1==e.find("img").length?e.find("img"):e.find("img").siblings()}return n},parseArgus:function(e,n){function t(e){return e instanceof jQuery?"$":"object"==typeof e?"object":!1}var s=0;for(var r in n)n[r]="object"==t(e[0])?e[0][r]?e[0][r]:n[r]:e[s]?e[s]:n[r],s++},console:function(e){!function(){for(var e,n=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],s=t.length,r=window.console=window.console||{};s--;)e=t[s],r[e]||(r[e]=n)}(),console&&console.log(e)}};
var Senro=function(e){function t(e){senro[e].state=!0,senro[e].action.fire();for(var t=0;t<senro[e].callbacks.length;t++)senro[e].callbacks[t]&&senro[e].callbacks[t](senro[e].objects[t]);return!1}if(arr_requireJs=e||[],senro=this,senro.video={url:"http://static.woniu.com/script/jwplayer/jwplayer.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.swf={url:"http://static.woniu.com/js/swfobject.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.login={url:"http://static.woniu.com/script/widget/passport/login.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.iePng={url:"http://static.woniu.com/script/iepng/iepng.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.drag={url:"http://static.woniu.com/script/plugin/jquery-ui-drag.min.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.mouseWheel={url:"http://static.woniu.com/script/plugin/jquery.mousewheel.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.MSClass={url:"http://static.woniu.com/script/plugin/MSClass.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.animateColors={url:"http://static.woniu.com/script/plugin/jquery.animate-colors-min.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.cssSandpaper={url:"http://static.woniu.com/script/plugin/cssSandpaper.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.tweenLite={url:"http://static.woniu.com/script/plugin/greensock-v12-js/TweenLite.min.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.tweenMax={url:"http://static.woniu.com/script/plugin/greensock-v12-js/TweenMax.min.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.testHtml5={url:"http://static.woniu.com/script/plugin/modernizr.custom.testHtml5.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.preload={url:"http://static.woniu.com/script/plugin/preloadjs-0.3.1.min.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},senro.mobile={url:"http://static.woniu.com/script/jquery/jquery.event.touch.js",state:!1,objects:[],action:$.Callbacks(),callbacks:[]},"string"==typeof arr_requireJs&&(arr_requireJs=[arr_requireJs]),arr_requireJs.length>0)for(var n=0;n<arr_requireJs.length;n++)switch(arr_requireJs[n]){case"video":$.getScript(senro.video.url,function(){t("video")});break;case"swf":$.getScript(senro.swf.url,function(){t("swf")});break;case"login":$.getScript(senro.login.url,function(){t("login")});break;case"iePng":senro.isIE6()&&$.getScript(senro.iePng.url,function(){t("iePng")});break;case"drag":$.getScript(senro.drag.url,function(){t("drag")});break;case"mouseWheel":$.getScript(senro.mouseWheel.url,function(){t("mouseWheel")});break;case"MSClass":$.getScript(senro.MSClass.url,function(){t("MSClass")});break;case"animateColors":$.getScript(senro.animateColors.url,function(){t("animateColors")});break;case"cssSandpaper":$.getScript(senro.cssSandpaper.url,function(){t("cssSandpaper")});break;case"tweenLite":$.getScript(senro.tweenLite.url,function(){t("tweenLite")});break;case"tweenMax":$.getScript(senro.tweenMax.url,function(){t("tweenMax")});break;case"testHtml5":$.getScript(senro.testHtml5.url,function(){t("testHtml5")});break;case"preload":$.getScript(senro.preload.url,function(){t("preload")});break;case"mobile":$.getScript(senro.mobile.url,function(){t("mobile")})}senro.errMsg={video:"请在初始化Senro()时加入'video',例如new Senro('video');如有多个请以数组形式。",swf:"请在初始化Senro()时加入'swf',例如new Senro('swf');如有多个请以数组形式。",login:"请在初始化Senro()时加入'login',例如new Senro('login');如有多个请以数组形式。",iePng:"请在初始化Senro()时加入'iePng',例如new Senro('iePng');如有多个请以数组形式。",drag:"请在初始化Senro()时加入'drag',例如new Senro('drag');如有多个请以数组形式。",mouseWheel:"请在初始化Senro()时加入'mouseWheel',例如new Senro('mouseWheel');如有多个请以数组形式。",MSClass:"请在初始化Senro()时加入'MSClass',例如new Senro('MSClass');如有多个请以数组形式。",animateColors:"请在初始化Senro()时加入'animateColors',例如new Senro('animateColors');如有多个请以数组形式。",cssSandpaper:"请在初始化Senro()时加入'cssSandpaper',例如new Senro('cssSandpaper');如有多个请以数组形式。",tweenLite:"请在初始化Senro()时加入'tweenLite',例如new Senro('tweenLite');如有多个请以数组形式。",tweenMax:"请在初始化Senro()时加入'tweenMax',例如new Senro('tweenMax');如有多个请以数组形式。",testHtml5:"请在初始化Senro()时加入'testHtml5',例如new Senro('testHtml5');如有多个请以数组形式。",preload:"请在初始化Senro()时加入'preload',例如new Senro('preload');如有多个请以数组形式。",mobile:"请在初始化Senro()时加入'mobile',例如new Senro('mobile');如有多个请以数组形式。"},jQuery.extend({visibleHidden:function(e){return e.css({visibility:"hidden"}),!1},visibleShow:function(e){return e.css({visibility:"visible"}),!1}})};Senro.prototype={constructor:Senro,checkRequire:function(e,t){for(var n=!1,r=0;r<arr_requireJs.length;r++)if(arr_requireJs[r]==e){n=!0;break}if(n)if(senro[e].state){t();for(var s=0;s<senro[e].callbacks.length;s++)senro[e].callbacks[s]&&senro[e].callbacks[s](senro[e].objects[s])}else senro[e].action.add(t);else alert(senro.errMsg[e]);return!1},isIE6:function(){var e=!-[1]&&!window.XMLHttpRequest;return e?!0:!1},addScript:function(e,t){var n=document.createElement("script"),r=t||$("head"),s="?v="+(new Date).getTime();for(var i in e)n[i]=e[i];return n.src=e.src+s,r.after(n),!1},getItems:function(e){var t;return e.find("div").length>0?t=1==e.find("div").length?e.find("div"):e.find("div").siblings():e.find("li").length>0?t=1==e.find("li").length?e.find("li"):e.find("li").siblings():e.find("a").length>0?t=1==e.find("a").length?e.find("a"):e.find("a").siblings():e.find("img").length>0&&(t=1==e.find("img").length?e.find("img"):e.find("img").siblings()),t},sliderTab:function(e,t,n,r,s,i){function a(e){return l.eq(h).hide(),c.eq(h).removeClass(n),l.eq(e).show(),c.eq(e).addClass(n),!1}function o(e){return l.eq(h).fadeOut(200),c.eq(h).removeClass(n),l.eq(e).fadeIn(200),c.eq(e).addClass(n),!1}var c=e,l=t,u=r||"mouseover",d=s||"normal",f=i||0,h=i||0;c.eq(f).addClass(n);for(var p=0;p<l.length;p++)p!=f&&l.eq(p).hide();return c.bind(u,function(){var e=c.index(this);if(e==h||l.is(":animated"))return!1;switch(d){case"normal":a(e);break;case"fade":o(e)}return h=e,!1}),!1},bigEye:function(e,t,n,r,s,i,a){function o(){f=setInterval(function(){q&&(w++,w>=m&&(w=0),c(w),d=w)},k)}function c(e){switch(v){case"normal":l(e);break;case"fade":u(e)}return!1}function l(e){return p.eq(d).hide(),h.eq(d).removeClass(n),p.eq(e).show(),h.eq(e).addClass(n),!1}function u(e){return p.eq(d).fadeOut(200),h.eq(d).removeClass(n),p.eq(e).fadeIn(200),h.eq(e).addClass(n),!1}var d,f,h=senro.getItems(t),p=senro.getItems(e),m=p.length,g=r||"mouseenter",v=s||"normal",w=0,b=i||!1,k=a||3e3,q=!0;if(d=0,h.length<m)for(var S=0,$=m-h.length;$>S;S++)h.eq(0).clone().appendTo(t);h.eq(0).addClass(n);for(var x=0;x<p.length;x++)x!=w&&p.eq(x).hide();return"fade"==v&&p.css("position","absolute"),h=senro.getItems(t),h.bind(g,function(){return w=h.index(this),w==d||p.is(":animated")?!1:(c(w),d=w,!1)}),h.add(p).mouseenter(function(){q=!1}),h.add(p).mouseleave(function(){q=!0}),b&&o(),!1},marquee:function(e,t,n,r,s){senro.checkRequire("MSClass",function(){var i=new Marquee(e),a=$(""),o=n||a,c=r||a,l=s||1,u=$("#"+e);switch(t){case"left":i.Direction=2,o.mouseover(function(){i.Direction=3}),c.mouseover(function(){i.Direction=2});break;case"right":i.Direction=3,o.mouseover(function(){i.Direction=2}),c.mouseover(function(){i.Direction=3});break;case"top":i.Direction=0,o.mouseover(function(){i.Direction=1}),c.mouseover(function(){i.Direction=0});break;case"bottom":i.Direction=1,o.mouseover(function(){i.Direction=0}),c.mouseover(function(){i.Direction=1})}i.Step=l,i.Width=u.width(),i.Height=u.height(),i.Timer=40,i.ScrollStep=1,i.Start(),i.BakStep=i.Step,o.add(c).mousedown(function(){i.Step=i.BakStep+3}),o.add(c).mouseup(function(){i.Step=i.BakStep})})},simpleSliderLR:function(e,t,n,r,s,i,a,o,c){function l(){if(b){if(v.is(":animated"))return!1;f("right")}else{if(jQuery.visibleShow(g),v.is(":animated"))return!1;if(0===C)return jQuery.visibleHidden(m),!1;C+=x,v.animate({left:C+"px"},k),h=C}return!1}function u(){if(b){if(v.is(":animated"))return!1;f("left")}else{if(jQuery.visibleShow(m),v.is(":animated"))return!1;if(C===-I)return jQuery.visibleHidden(g),!1;C-=x,v.animate({left:C+"px"},k),h=C}return!1}function d(){p=setInterval(function(){L&&g.click()},M)}function f(e){$=senro.getItems(v),"left"==e?v.animate({left:-x*w+"px"},k,null,function(){v.append($.eq(0).add($.eq(w-1)).remove()).css({left:"0px"})}):v.prepend($.eq(j-1).add($.eq(j-1-(w-1))).remove()).css({left:-x*w+"px"}).animate({left:"0px"},k)}var h,p,m=e,g=t,v=n,w=r||1,b=s||!1,k=i||200,q=c||"normal",S="normal"==q?10:80,$=senro.getItems(v),x=$.eq(1).outerWidth(!0),C=0,j=$.length,I=(j-w)*x,y=a||!1,M=o||3e3,L=!0;senro.checkRequire("mobile",function(){$.on("swipeleft",function(){"normal"==q&&u()}).on("swiperight",function(){"normal"==q&&l()}).on("movestart",function(e){return e.distX>e.distY&&e.distX<-e.distY||e.distX<e.distY&&e.distX>-e.distY?(e.preventDefault(),!1):(h=parseInt(v.css("left")),void 0)}).on("move",function(e){var t=parseInt(v.css("left")),n=t+S*e.distX/x;v.css({left:n+"px"})}).on("moveend",function(){var e=parseInt(v.css("left"));e>0?v.animate({left:"0px"}):-I>e?v.animate({left:-I+"px"}):"normal"!=q?v.animate({left:e}):v.animate({left:h})})}),m&&m&&(m.click(function(){return l(),!1}),g.click(function(){return u(),!1}),m.add(g).add(v).mouseenter(function(){L=!1}),m.add(g).add(v).mouseleave(function(){L=!0})),y&&d()},sliderLR:function(e,t,n,r,s,i,a,o){function c(e,t,n){var r=e.parent(),s=r.width(),i=(t/n).toFixed(1);0==i?e.css("left",s*i+"px"):e.animate({left:s*i-e.width()+"px"},100)}function l(e,t){var n=u(e),r=n.eq(1).outerWidth(!0),s=-t*r;return e.animate({left:s+"px"},200),!1}function u(e){var t;return e.find("a").length>0?t=e.find("a").siblings():e.find("div").length>0?t=e.find("div").siblings():e.find("li").length>0?t=e.find("li").siblings():e.find("img").length>0&&(t=e.find("img").siblings()),t}function d(e,t){var n=u(e),r=n.length,s=n.outerWidth(!0),i=((e.parent().width()/2).toFixed(1)-5,D.position().left,D.outerWidth(!0)/2,parseInt(n.eq(t).css("margin-left"))),a=r*s-e.parent().width();return W&&e.css("left",S),M>t?(D.css({left:n.eq(t).position().left+i+"px"},200),W=!1):t>=M&&-e.position().left<a-s||-e.position().left>0&&_>t&&L>t?(L=t,e.animate({left:-s*(t-M)+"px"},200),D.animate({left:n.eq(t).position().left+i+"px"},200),W=!1):(D.css({left:n.eq(t).position().left+i+"px"},200),_=t,W=!1),!1}var f=t,h=n,p=e,m=s||null,g=i||null,v=r||null,a=a||null,w=o||"thumb_current";(e.find("img").attr("lazy")||r.find("img").attr("lazy"))&&e.add(r).find("img").each(function(t){e.add(r).find("img").eq(t).attr("src",e.add(r).find("img").eq(t).attr("lazy"))});var b=u(p),k=b.length-1,q=0;if(f.add(m).click(function(){return p.is(":animated")?!1:0>=q?(q=0,!1):(q--,l(p,q),v&&(d(v,q),a&&c(a,q,k)),!1)}),h.add(g).click(function(){return p.is(":animated")?!1:q>=k?(q=k,!1):(q++,l(p,q),v&&(d(v,q),a&&c(a,q,k)),!1)}),v){var S,x=u(v),C=(x.length,x.eq(1).outerWidth(!0)),j=x.eq(1).outerWidth(),I=x.eq(1).outerHeight(),y=parseInt(x.eq(0).css("margin-left")),M=(v.parent().width()/2/C).toFixed(0)-1,L=0,_=0,W=!1,D=$('<div class="'+w+'"></div>');v.append(D),v.css("width",x.length*C);var H=parseInt(D.css("borderLeftWidth"));D.css({width:j-2*H+"px",height:I-2*H+"px",left:y+"px",top:x.eq(0).position().top+"px"}),x.click(function(){var e=x.index(this),t=parseInt(x.eq(e).css("margin-left"));return e>k&&(e-=(k+1)*(e%(k+1))),q=e,l(p,q),a&&c(a,q,k),D.animate({left:x.eq(e).position().left+t+"px"},100),!1})}a&&senro.checkRequire("drag",function(){var e=v.parent(),t=e.width(),n=v.width();a.css("left","0px"),n>t&&a.draggable({containment:"parent",start:function(){S=v.position().left},drag:function(){var e=a.index(this),r=a.eq(e),s=r.parent(),i=r.position().left/(s.width()-r.width());if(v){var o=(n-t)*i;v.css({left:-o+"px"})}},stop:function(){W=!0}})})},carouselSlider:function(e,t,n,r){function s(t,n,r){for(var s=0;a>=s;s++){var o=e.eq(l[n][s]).data("mask"),u=parseInt(e.eq(l[n][s]).data("zindex"));i[s]={mask:o,left:e.eq(s).position().left,top:e.eq(s).position().top,width:e.eq(s).width(),height:e.eq(s).height(),zIndex:"right"==t?u:0==l[n][s]?u-1:u}}e.removeClass("current");for(var d=0;a>=d;d++)l[r][d]==Math.floor((0+a)/2)&&e.eq(d).addClass("current"),e.eq(l[n][d]).css({zIndex:i[l[r][d]].zIndex}).animate({left:i[l[r][d]].left,top:i[l[r][d]].top,width:i[l[r][d]].width,height:i[l[r][d]].height}),e.eq(l[n][d]).find("."+c).animate({opacity:i[l[r][d]].mask});return!1}for(var i=[],a=e.length-1,o=0,c=r||"itemMask",l=[],u=0;a>=u;u++){l[u]=[];for(var d=0;a>=d;d++)l[u][d]=0==u?d:l[u-1][d+1>a?0:d+1]}e.eq(2).addClass("current"),e.click(function(){if(e.filter(":animated").length)return!1;var t=$(this);if(t.hasClass("current"))window.location.href=t.find(".itemLink").attr("href");else{var n=e.index(this),r=l[o][n];if(0==r||1==r){var i=o+1;i>a&&(i=0),s("left",o,i),o=i}else if(3==r||r==a){var i=o-1;0>i&&(i=a),s("right",o,i),o=i}}return!1}),t.click(function(){if(e.is(":animated"))return!1;var t=o+1;return t>a&&(t=0),s("left",o,t),o=t,!1}),n.click(function(){if(e.is(":animated"))return!1;var t=o-1;return 0>t&&(t=a),s("right",o,t),o=t,!1})},scrollBar:function(e,t,n,r){var s=e.parent(),i=s.outerHeight(),a=t.parent(),o=a.outerHeight(),c=t.outerHeight(),l=i*o/c,u=s.outerWidth(),d=a.outerWidth(),f=t.outerWidth(),h=u*d/f,p=0,m=n||"v",r=r||10;"v"==m?(e.css({height:l+"px"}),t.css("top","0px"),e.css("top","0px")):(e.css({width:h+"px"}),t.css("left","0px"),e.css("left","0px")),senro.checkRequire("drag",function(){e.draggable({containment:"parent",drag:function(){var n,r=e.index(this),a=e.eq(r);"v"==m?(n=a.position().top/s.outerHeight(),p=Math.round(100*n/((i-l)/i)),t.css("top",-t.outerHeight()*n+"px")):(n=a.position().left/s.outerWidth(),p=Math.round(100*n/((u-h)/u)),t.css("left",-t.outerWidth()*n+"px"))}})}),senro.checkRequire("mouseWheel",function(){a.mousewheel(function(n,s){p-=s*r,p>100?p=100:0>p&&(p=0);var a=p/100;return"v"==m?(t.css("top",-(c-o)*a+"px"),e.css("top",(i-l)*a+"px")):(t.css("left",-(f-d)*a+"px"),e.css("left",(u-h)*a+"px")),!1})})},selectWidget:function(e,t,n,r){var s=$("#"+e),i=s.width(),a=s.attr("name"),o=s.attr("class"),c=t||e+"-icon",l=s.find("option"),u=n||"senroOption_hover",d=l.filter("[selected=selected]").length>0?l.filter("[selected=selected]"):l.eq(0),f=s.attr("data-scrollCube")||"",h=s.attr("data-scrollLine")||"",p=r||"notLimited";s.after('<div id="'+e+'" class="senroSelect '+o+'" data-name="'+a+'" data-value="'+d.val()+'"><a href="javascript:;" class="senroSelect-icon '+c+'"></a><a class="senroSelected" href="javascript:;" data-value="'+d.val()+'">'+d.html()+'</a><div class="senroOptions"><div class="senroSelectScrollLine '+h+'"><div class="senroSelectScrollCube '+f+'"></div></div><div class="senroOptionsWrap"></div></div><input class="senroSelectHiddenInput" type="hidden" name="'+a+'" value="'+d.val()+'"/></div>'),s.remove();for(var m=$("#"+e+" .senroOptions"),g=$("#"+e+" .senroOptionsWrap"),v=$("#"+e+" .senroSelectHiddenInput"),w=d.index(),b=$("#"+e+" .senroSelectScrollLine"),k=$("#"+e+" .senroSelectScrollCube"),q=0;q<l.length;q++)q==w?void 0!=l.eq(q).attr("class")?g.append('<a class="senroOption '+l.eq(q).attr("class")+'" target="'+(l.eq(q).attr("data-target")||"_self")+'" href="'+(l.eq(q).attr("data-url")||"javascript:;")+'" data-select="selected" data-value="'+l.eq(q).val()+'">'+l.eq(q).html()+"</a>"):g.append('<a class="senroOption '+l.eq(0).attr("class")+'" target="'+(l.eq(q).attr("data-target")||"_self")+'" href="'+(l.eq(q).attr("data-url")||"javascript:;")+'" data-select="selected" data-value="'+l.eq(q).val()+'">'+l.eq(q).html()+"</a>"):void 0!=l.eq(q).attr("class")?g.append('<a class="senroOption '+l.eq(q).attr("class")+'" target="'+(l.eq(q).attr("data-target")||"_self")+'" href="'+(l.eq(q).attr("data-url")||"javascript:;")+'" data-value="'+l.eq(q).val()+'">'+l.eq(q).html()+"</a>"):g.append('<a class="senroOption '+l.eq(0).attr("class")+'" target="'+(l.eq(q).attr("data-target")||"_self")+'" href="'+(l.eq(q).attr("data-url")||"javascript:;")+'" data-value="'+l.eq(q).val()+'">'+l.eq(q).html()+"</a>");var S=$("#"+e+" .senroSelect-icon"),x=$("#"+e),C=$("#"+e+" .senroSelected"),j=g.find(".senroOption"),I=j.eq(0).height();if(x.css("width",i+"px"),"notLimited"!=p){var y=p*I;m.css("height",y),b.css("height",y),senro.scrollBar(k,g)}else m.css("overflow","visible"),b.hide();return $(document).click(function(){x.css({overflow:"hidden"})}),S.add(C).click(function(){return"hidden"==x.css("overflow")?($(".senroSelect").css({overflow:"hidden"}),x.css({overflow:"visible"})):x.css({overflow:"hidden"}),j.each(function(){"selected"==$(this).data("select")?$(this).addClass(u):$(this).removeClass(u)}),!1}),j.mouseenter(function(){return $(this).removeClass(u),!1}),j.click(function(){j.data("select","undefined"),$(this).data("select","selected"),a=$(this).html(),v.attr("value",a),x.attr("data-value",a),C.html($(this).html()),C.attr("data-value",$(this).attr("data-value")),x.css({overflow:"hidden"})}),!1},controlPop:function(e,t,n,r,s){function i(){var e=Math.max(f.height(),$(window).height()),t=$(window).width(),n=($(window).height()-o.outerHeight(!0))/2+$(document).scrollTop(),r=(t-o.outerWidth(!0))/2;return jQuery.visibleShow(o),o.hide(),o.css({top:n,left:r}).fadeIn(h),a(c,t,e),!1}function a(e,t,n){return e.css({height:n,width:t}),!1}var o=t,c=r||$('<div class="senroPopMask"></div>'),l=r?c.css("backgroundColor"):"#000",u=r?c.css("opacity"):.6,d=n||"",f=$("body"),h=s||0,p=arguments[3]?!0:!1;return 0!=o.find("form").length&&o.find("form")[0].reset(),o.css({zIndex:"9999",margin:0}),c.css({position:"absolute",left:"0",top:"0",zIndex:"9998",backgroundColor:l,opacity:u}),$(window).resize(function(){return o.is(":visible")&&i(),!1}),"show"==e?(i(),p||f.append(c),c.fadeIn(h)):"hide"==e&&o.add(c).fadeOut(h,function(){p?c.remove():$(".senroPopMask").remove()}),c.click(function(){return o.add(c).fadeOut(h,function(){p||c.remove()}),!1}),d&&d.click(function(){return o.add(c).fadeOut(h,function(){p||c.remove()}),!1}),!1},addVideo:function(e,t,n,r){var s=$("#"+e).parent(),i=s.width(),a=s.height();return senro.checkRequire("video",function(){senro.video.objects.push(jwplayer(e).setup({flashplayer:"http://static.woniu.com/script/jwplayer/player.swf",skin:"http://static.woniu.com/script/jwplayer/skin/bekle.zip",file:t,image:n||null,width:i||442,height:a||331})),senro.video.callbacks.push(r)}),!1},addSwf:function(e,t,n){var r=$("#"+e).parent(),s=r.width(),i=r.height();return senro.checkRequire("swf",function(){senro.swf.objects.push(addSWF(t,e,s,i)),senro.swf.callbacks.push(n)}),!1},addNavFooter:function(e){var t=e||"",n={type:"text/javascript",src:"http://static.woniu.com/header_tl/pub-header.js",charset:"utf-8",id:"pub-header"},r={type:"text/javascript",src:"http://static.woniu.com/footer_dl/pub-footer.js",charset:"utf-8",id:"pub-footer"};return senro.addScript(n),senro.addScript(r),$("#pub-footer").attr("gamename",t),!1},addShare:function(e,t){var n=$("#"+t)||$("body")[1],r='<div class="jiathis_style"><a class="jiathis_button_qzone"></a><a class="jiathis_button_tsina"></a><a class="jiathis_button_tqq"></a><a class="jiathis_button_renren"></a><a class="jiathis_button_kaixin001"></a><a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a><a class="jiathis_counter_style"></a></div>',s={type:"text/javascript",src:"http://v3.jiathis.com/code/jia.js?uid=1373876204301599",charset:"utf-8"};return e.html(r),senro.addScript(s,n),!1},changeFont:function(e,t,n,r){t.click(function(){return e.css({"font-size":"16px"}),!1}),n.click(function(){return e.css({"font-size":"14px"}),!1}),r.click(function(){return e.css({"font-size":"13px"}),!1})},backTop:function(e){return e.click(function(e){e.preventDefault(),$("html,body").animate({scrollTop:0},300)}),senro.isIE6()||e.fadeOut(0),$(window).scroll(function(){$(document).scrollTop()>0?e.fadeIn(200):e.fadeOut(200)}),!1},addCurrent:function(e,t){var n=window.location.href.split(".html")[0],r=parseInt(n.charAt(n.length-1))-1;return e.removeClass(t),e.eq(r).addClass(t),!1},radio:function(e,t){var n=$("."+e);return n.click(function(){var e=$(this),n=e.siblings();return n.removeClass(t),e.hasClass(t)||(e.addClass(t),e.attr("data-selected","selected")),!1}),n.find("input").length>0&&n.find("input").click(function(){var e=$(this).parent(),n=e.siblings();return n.removeClass(t),e.addClass(t),e.attr("data-selected","selected"),!1}),!1},checkBox:function(e,t,n){var r=$("."+e),s=n||"noLimit";return r.click(function(){var e=$(this),n=e.siblings();return"noLimit"!=s&&n.filter("[data-selected=selected]").length>=s?!1:(e.hasClass(t)?(e.removeClass(t),e.attr("data-selected","undefind")):(e.addClass(t),e.attr("data-selected","selected")),!1)}),r.find("input").length>0&&r.find("input").click(function(){var e=$(this).parent(),n=e.siblings();return"noLimit"!=s&&n.filter("[data-selected=selected]").length>=s?!1:(e.addClass(t),e.attr("data-selected","selected"),!1)}),!1},cssTriangle:function(e,t,n,r){var s={up:{borderWidth:"0 "+n+" "+n+" "+n,borderColor:"#000000 #000000 "+r+" #000000",ie6borderColor:"transparent transparent "+r+" transparent"},right:{borderWidth:n+" 0 "+n+" "+n,borderColor:"#000000 #000000 #000000 "+r,ie6borderColor:"transparent transparent transparent "+r},down:{borderWidth:n+" "+n+" 0 "+n,borderColor:r+" #000000 #000000 #000000",ie6borderColor:r+" transparent transparent transparent"},left:{borderWidth:n+" "+n+" "+n+" 0",borderColor:"#000000 "+r+" #000000 #000000",ie6borderColor:"transparent "+r+" transparent transparent"}};return e.css({width:0,height:0,lineHeight:"0",borderStyle:"solid",borderWidth:s[t].borderWidth}),senro.isIE6()?e.css({borderColor:s[t].borderColor,filter:"progid:DXImageTransform.Microsoft.Chroma(color='#000000')"}):e.css({borderColor:s[t].ie6borderColor}),!1},checkLogin:function(e,t){return $.getJSON("http://gwpassport.woniu.com/v2/islogin?jsoncallback=?",function(n){1020==n.msgcode?e&&e(n):t&&t(n)}),!1},addLoginBtn:function(e){var t="?goto="+document.URL;return e.attr("href","http://www.woniu.com/account/login/"+t),!1},loginOut:function(e){var t="?goto="+document.URL;return e.attr("href","http://gwpassport.woniu.com/v2/logout"+t),!1},getJson:function(e,t,n){var r=t||{"":""},s=e+"?jsoncallback=?&"+jQuery.param(r);return $.getJSON(s,function(e){n&&n(e)}),!1},initLogin:function(e,t,n){return senro.checkRequire("login",function(){var r=$(e),s=$(e).find("input");r.attr("method","post"),r.attr("action","http://gwpassport.woniu.com/v2/login"),s.each(function(e){var t=s.eq(e);0==e?(t.hasClass("inputDefault")||t.addClass("inputDefault"),"username"!=t.attr("name")&&t.attr("name","username")):2==e?(t.hasClass("inputDefault")||t.addClass("inputDefault"),"password"!=t.attr("name")&&t.attr("name","password")):(1==e||3==e)&&(t.hasClass("msgContainer")||t.addClass("msgContainer"))});new Login({formId:e,elements:{scope:t,input:{node:".inputDefault",write:".inputWrite",done:".inputComplete"},message:{node:".msgContainer",hover:".msgHover",error:".msgError"}},success:function(e){n&&n(e)},handleMessage:function(e){alert(e)}})}),!1},placeHolderInput:function(e,t){var n=[];return e.each(function(t){n.push(e.eq(t).val())}),e.focusin(function(){var t=e.index(this);return $(this).val()==n[t]&&$(this).val(""),!1}),e.focusout(function(){var t=e.index(this);return""==$(this).val()&&$(this).val(n[t]),!1}),t.click(function(){var t;return e.each(function(r){e.eq(r).val()==n[r]&&(t=!1)}),t}),!1},toggleInput:function(e,t){t.click(function(){var n=t.index(this);return t.eq(n).hide(),e.eq(n).show().focus(),!1}),e.focusout(function(){var n=e.index(this);return e.eq(n).val()||(t.eq(n).show(),e.eq(n).hide()),!1})},cookie:function(e,t,n){function r(e,t){var n=30,r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),document.cookie=e+"="+escape(t)+";expires="+r.toGMTString()}function s(e){var t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]*)(;|$)"));return null!=t?unescape(t[2]):null}function i(e){var t=new Date;t.setTime(t.getTime()-1);var n=s(e);null!=n&&(document.cookie=e+"="+n+";expires="+t.toGMTString())}var a=t||"",o=n||"";switch(type){case"get":s(a);break;case"set":r(a,o);break;case"del":i(a)}return!1},checkInput:function(e,t,n){function r(){h.each(function(e){for(var t in f)h.eq(e).hasClass(f[t].selecter)&&(f[t].inputs.push(h.eq(e)),f[t].state.push(!1))}),m.each(function(e){for(var t in f)m.eq(e).hasClass(f[t].msgSelecter)&&f[t].msg.push(m.eq(e))});for(var e in f)s(e)}function s(e){for(var n=0;n<f[e].inputs.length;n++)f[e].inputs[n].focusin(e,function(){var t=$("."+f[e].selecter).index(this);return $(this).val(""),f[e].msg[t]&&f[e].msg[t].hide(),!1}),"checkBox"==e&&(f[e].state[n]=f[e].method(f[e].inputs[n].attr("checked"))),f[e].inputs[n].focusout(e,function(){var n=$("."+f[e].selecter).index(this);switch(e){case"password":f[e].state[n]=1==n?f[e].method2(f[e].inputs[0].val(),f[e].inputs[n].val()):f[e].method1(f[e].inputs[n].val());break;case"checkBox":break;default:f[e].state[n]=f[e].method(f[e].inputs[n].val())}f[e].state[n]!==!0&&(f[e].msg[n]?(f[e].msg[n].is("input")?f[e].msg[n].val(f[e].msgLang):f[e].msg[n].html(f[e].msgLang),f[e].msg[n].show(),f[e].msg[n].click(e,function(){return f[e].msg[n].hide(),f[e].inputs[n].focus(),!1})):alert(f[e].msgLang)),g=0;for(var r in f)for(var s=0;s<f[r].state.length;s++)f[r].state[s]===!0?g++:g--;return g==m.length&&t&&t(),!1});return!1}function i(e){var e=$.trim(e);return 0==e.length?!1:!0}function a(e){return"checked"!=e?!1:!0}function o(e){var t=/^[-_A-Za-z0-9]+@([_A-Za-z0-9]+\.)+[A-Za-z0-9]{2,3}$/;return t.test(e)?!0:!1}function c(e){var t=/^[1][0-9][0-9]{9}$/,n=new RegExp(t);return n.test(e)?!0:!1}function l(e){var t=/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/;return t.test(e)?!0:!1}function u(e){var e=$.trim(e);return e.length<6?(f.password.msgLang="密码不能小于6位",!1):!0}function d(e,t){return e===t&&u(e)&&u(t)?!0:(f.password.msgLang="两次密码不同",!1)}var f=senro.checkInput,h=e.find("input"),p=n||".msg",m=e.find(p),g=0,v=$.Callbacks("once");0==m.length?alert("友情提示！没有找到提示框公用类msg，请给所有的提示框加个msg类，或者通过设置方法的最后一个可选参数自定义类名。"):(f.require={selecter:"require",msgSelecter:"requireMsg",msgLang:"此项为必填！",state:[],inputs:[],msg:[],method:i},f.email={selecter:"email",msgSelecter:"emailMsg",msgLang:"邮箱格式不正确！",state:[],inputs:[],msg:[],method:o},f.cellPhone={selecter:"cellPhone",msgSelecter:"cellPhoneMsg",msgLang:"手机号码格式不正确！",state:[],inputs:[],msg:[],method:c},f.chinaID={selecter:"chinaID",msgSelecter:"chinaIDMsg",msgLang:"身份证号码格式不正确！",state:[],inputs:[],msg:[],method:l},f.checkBox={selecter:"checkBox",msgSelecter:"checkBoxMsg",msgLang:"还有未勾选的选项！",state:[],inputs:[],msg:[],method:a},f.password={selecter:"password",msgSelecter:"passwordMsg",msgLang:"待判断方法修改！",state:[],inputs:[],msg:[],method1:u,method2:d},e[0].reset(),v.add(r),h.focusin(function(){return"text"==$(this).get(0).type&&$(this).val()==$(this).get(0).defaultValue&&$(this).val(""),v.fire(),!1}))},checkHtml5:function(e,t,n){function r(e){Modernizr[e]?t&&t():n&&n()}senro.checkRequire("testHtml5",function(){r(e)})},fixedDomPos:function(e){function t(){var e,t=$(window).height(),n=$("body").height();return e=n-t}if(senro.isIE6()){e.css({position:"absolute"});var n=e.position().top,r=t();$(window).scroll(function(){var t=$(window).scrollTop();r>t&&e.css({top:t+n})}).resize(function(){t();e.css({top:n}),$(this).scroll()}).scroll()}return!1},fixIE6Png:function(e){return senro.isIE6()&&senro.checkRequire("iePng",function(){DD_belatedPNG.fix("."+e)}),!1}};
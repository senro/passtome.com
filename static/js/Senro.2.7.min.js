/**
 * @版本: Senro.2.7.js(http://senro.cn/senro/Senro.2.7.js)
 * @依赖: jquery 1.9.1(http://static.woniu.com/script/jquery/jquery-1.9.1.min.js)
 * @作者: senro(http://senro.cn)
 * @版权: senro.cn(http://senro.cn)
 * @感谢: NightKnight(#)、蒹葭从风(#)、woniu.com(http://www.woniu.com)
 * @简介: Senro.2.7.js 是senro根据日常工作的需求开发的经验总结，目的是快速应对各种蜗牛前端开发中需要用到的常用js方法和组件，
 *       可以把这个对象想象成senro本人，它有自己的属性、方法。开发原则是尽量用一句话解决一个问题当然，尽量减少传参，参数按重要
 *       级别从左往右。由于水平有限，难免会有bug，和不完善，还请需要使用的各位，多多包涵，并指出不足，以便完善；
 * @包含: 核心公用方法(core)、常用组件(widget)、常用界面交互方法(UIInteractive)、常用后端交互方法(dataInteractive)、常用检测方法(check)、常用修复方法(fix)、资源加载(load)、常用js模拟html5效果方法(html5)、常用动画方法(animate)
 */
var Senro=function(b){arr_requireJs=b||[];senro=this;senro.video={url:"http://static.woniu.com/script/jwplayer/jwplayer.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.swf={url:"http://static.woniu.com/js/swfobject.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.login={url:"http://static.woniu.com/script/widget/passport/login.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.iePng={url:"http://static.woniu.com/script/iepng/iepng.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.drag={url:"http://static.woniu.com/script/plugin/jquery-ui-drag.min.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.mouseWheel={url:"http://static.woniu.com/script/plugin/jquery.mousewheel.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.MSClass={url:"http://static.woniu.com/script/plugin/MSClass.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.animateColors={url:"http://static.woniu.com/script/plugin/jquery.animate-colors-min.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.cssSandpaper={url:"http://static.woniu.com/script/plugin/cssSandpaper.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.tweenLite={url:"http://static.woniu.com/script/plugin/greensock-v12-js/TweenLite.min.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.tweenMax={url:"http://static.woniu.com/script/plugin/greensock-v12-js/TweenMax.min.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.testHtml5={url:"http://static.woniu.com/script/plugin/modernizr.custom.testHtml5.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};senro.preload={url:"http://static.woniu.com/script/plugin/preloadjs-0.3.1.min.js",state:false,objects:[],action:$.Callbacks(),callbacks:[]};if(typeof arr_requireJs==="string"){arr_requireJs=[arr_requireJs]}if(arr_requireJs.length>0){for(var a=0;a<arr_requireJs.length;a++){switch(arr_requireJs[a]){case"video":$.getScript(senro.video.url,function(){c("video")});break;case"swf":$.getScript(senro.swf.url,function(){c("swf")});break;case"login":$.getScript(senro.login.url,function(){c("login")});break;case"iePng":if(senro.isIE6()){$.getScript(senro.iePng.url,function(){c("iePng")})}break;case"drag":$.getScript(senro.drag.url,function(){c("drag")});break;case"mouseWheel":$.getScript(senro.mouseWheel.url,function(){c("mouseWheel")});break;case"MSClass":$.getScript(senro.MSClass.url,function(){c("MSClass")});break;case"animateColors":$.getScript(senro.animateColors.url,function(){c("animateColors")});break;case"cssSandpaper":$.getScript(senro.cssSandpaper.url,function(){c("cssSandpaper")});break;case"tweenLite":$.getScript(senro.tweenLite.url,function(){c("tweenLite")});break;case"tweenMax":$.getScript(senro.tweenMax.url,function(){c("tweenMax")});break;case"testHtml5":$.getScript(senro.testHtml5.url,function(){c("testHtml5")});break;case"preload":$.getScript(senro.preload.url,function(){c("preload")});break}}}function c(e){senro[e].state=true;senro[e].action.fire();for(var d=0;d<senro[e].callbacks.length;d++){senro[e].callbacks[d]&&senro[e].callbacks[d](senro[e].objects[d])}return false}senro.errMsg={video:"请在初始化Senro()时加入'video',例如new Senro('video');如有多个请以数组形式。",swf:"请在初始化Senro()时加入'swf',例如new Senro('swf');如有多个请以数组形式。",login:"请在初始化Senro()时加入'login',例如new Senro('login');如有多个请以数组形式。",iePng:"请在初始化Senro()时加入'iePng',例如new Senro('iePng');如有多个请以数组形式。",drag:"请在初始化Senro()时加入'drag',例如new Senro('drag');如有多个请以数组形式。",mouseWheel:"请在初始化Senro()时加入'mouseWheel',例如new Senro('mouseWheel');如有多个请以数组形式。",MSClass:"请在初始化Senro()时加入'MSClass',例如new Senro('MSClass');如有多个请以数组形式。",animateColors:"请在初始化Senro()时加入'animateColors',例如new Senro('animateColors');如有多个请以数组形式。",cssSandpaper:"请在初始化Senro()时加入'cssSandpaper',例如new Senro('cssSandpaper');如有多个请以数组形式。",tweenLite:"请在初始化Senro()时加入'tweenLite',例如new Senro('tweenLite');如有多个请以数组形式。",tweenMax:"请在初始化Senro()时加入'tweenMax',例如new Senro('tweenMax');如有多个请以数组形式。",testHtml5:"请在初始化Senro()时加入'testHtml5',例如new Senro('testHtml5');如有多个请以数组形式。",preload:"请在初始化Senro()时加入'preload',例如new Senro('preload');如有多个请以数组形式。"};jQuery.extend({visibleHidden:function(d){d.css({visibility:"hidden"});return false},visibleShow:function(d){d.css({visibility:"visible"});return false}})};Senro.prototype={constructor:Senro,checkRequire:function(c,e){var d=false;for(var b=0;b<arr_requireJs.length;b++){if(arr_requireJs[b]==c){d=true;break}}if(d){if(!senro[c].state){senro[c].action.add(e)}else{e();for(var a=0;a<senro[c].callbacks.length;a++){senro[c].callbacks[a]&&senro[c].callbacks[a](senro[c].objects[a])}}}else{alert(senro.errMsg[c])}return false},console:function(a){(function(){var f;var e=function(){};var c=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"];var d=c.length;var b=(window.console=window.console||{});while(d--){f=c[d];
    if(!b[f]){b[f]=e}}}());console&&console.log(a)},len:function(e){var e=e||"";var c=0;var b=e.split("");for(var d=0;d<b.length;d++){if(b[d].charCodeAt(0)<299){c++}else{c+=2}}return c},random:function(b,a){return Math.floor(b+Math.random()*(a-b))},isIE6:function(){var a=!-[1,]&&!window.XMLHttpRequest;if(a){return true}else{return false}},addScript:function(b,e){var f=document.createElement("script"),d=e||$("head"),a="?v="+new Date().getTime();for(var c in b){f[c]=b[c]}f.src=b.src+a;d.after(f);return false},sliderTab:function(c,m,k,j,o,g){var e=c,p=m,b=j||"mouseover",d=o||"normal",a=g||0,h=g||0;e.eq(a).addClass(k);for(var f=0;f<p.length;f++){if(f!=a){p.eq(f).hide()}}e.bind(b,function(){var i=e.index(this);if(i==h||p.is(":animated")){return false}switch(d){case"normal":n(i);break;case"fade":l(i);break}h=i;return false});function n(i){p.eq(h).hide();e.eq(h).removeClass(k);p.eq(i).show();e.eq(i).addClass(k);return false}function l(i){p.eq(h).fadeOut(200);e.eq(h).removeClass(k);p.eq(i).fadeIn(200);e.eq(i).addClass(k);return false}return false},bigEye:function(d,a,c,b){senro.checkRequire("MSClass",function(){var h=$("#"+d),g=h.width(),f=h.height();var e=new Marquee([d,a,c,b||"click"],2,0.5,g,f,20,5000,5000,0,2);document.getElementById(d).style.cssText="";document.getElementById(d).style.cssText=""})},marquee:function(d,a,e,c,b){senro.checkRequire("MSClass",function(){var f=new Marquee(d),i=$(""),k=e||i,j=c||i,g=b||1,h=$("#"+d);switch(a){case"left":f.Direction=2;k.mouseover(function(){f.Direction=3});j.mouseover(function(){f.Direction=2});break;case"right":f.Direction=3;k.mouseover(function(){f.Direction=2});j.mouseover(function(){f.Direction=3});break;case"top":f.Direction=0;k.mouseover(function(){f.Direction=1});j.mouseover(function(){f.Direction=0});break;case"bottom":f.Direction=1;k.mouseover(function(){f.Direction=0});j.mouseover(function(){f.Direction=1});break}f.Step=g;f.Width=h.width();f.Height=h.height();f.Timer=40;f.ScrollStep=1;f.Start();f.BakStep=f.Step;k.add(j).mousedown(function(){f.Step=f.BakStep+3});k.add(j).mouseup(function(){f.Step=f.BakStep})})},simpleSliderLR:function(j,g,c,d,l,i){var o=j,k=g,a=c,m=d||1,s=l||false,p=i||200,e=b(a),h=e.eq(1).outerWidth(true),f=0,r=e.length,q=(r-m)*h;o.click(function(){if(!s){jQuery.visibleShow(k);if(f===0){jQuery.visibleHidden(o);return false}f+=h;a.animate({left:f+"px"},p)}else{if(a.is(":animated")){return false}n("right")}return false});k.click(function(){if(!s){jQuery.visibleShow(o);if(f===-q){jQuery.visibleHidden(k);return false}f-=h;a.animate({left:f+"px"},p)}else{if(a.is(":animated")){return false}n("left")}return false});function b(t){var u;if(t.find("li").length>0){u=t.find("li").siblings()}else{if(t.find("div").length>0){u=t.find("div").siblings()}else{if(t.find("a").length>0){u=t.find("a").siblings()}else{if(t.find("img").length>0){u=t.find("img").siblings()}}}}return u}function n(t){e=b(a);if(t=="left"){a.animate({left:-h*m+"px"},p,null,function(){a.append(e.eq(0).add(e.eq(m-1)).remove()).css({left:"0px"})})}else{a.prepend(e.eq(r-1).add(e.eq(r-1-(m-1))).remove()).css({left:-h*m+"px"}).animate({left:"0px"},p)}}},sliderLR:function(e,n,g,D,B,w,i){var z=n,r=g,b=e,v=B||null,G=w||null,y=D||null,i=i||null;if(e.find("img").attr("lazy")||D.find("img").attr("lazy")){e.add(D).find("img").each(function(H){e.add(D).find("img").eq(H).attr("src",e.add(D).find("img").eq(H).attr("lazy"))})}var m=c(b),t=m.length-1,A=0;z.add(v).click(function(){if(b.is(":animated")){return false}if(A<=0){A=0;return false}A--;j(b,A);if(y){E(y,A);if(i){F(i,A,t)}}return false});r.add(G).click(function(){if(b.is(":animated")){return false}if(A>=t){A=t;return false}A++;j(b,A);if(y){E(y,A);if(i){F(i,A,t)}}return false});if(y){var f=c(y),o=f.length,k=f.eq(1).outerWidth(true),q=f.eq(1).outerWidth(),d=f.eq(1).outerHeight(),p=parseInt(f.eq(0).css("margin-left")),x=((y.parent().width()/2)/k).toFixed(0)-1,C=0,s=0,a,l=false;var h=$('<div class="thumb_current"></div>');y.append(h);y.css("width",f.length*k);var u=parseInt(h.css("borderLeftWidth"));h.css({width:q-u*2+"px",height:d-u*2+"px",left:p+"px",top:f.eq(0).position().top+"px"});f.click(function(){var H=f.index(this),I=parseInt(f.eq(H).css("margin-left"));if(H>t){H=H-(t+1)*(H%(t+1))}A=H;j(b,A);if(i){F(i,A,t)}h.animate({left:f.eq(H).position().left+I+"px"},100);return false})}if(i){senro.checkRequire("drag",function(){var I=y.parent(),J=I.width(),H=y.width();i.css("left","0px");if(H>J){i.draggable({containment:"parent",start:function(){a=y.position().left},drag:function(){var L=i.index(this),K=i.eq(L),M=K.parent(),N=K.position().left/(M.width()-K.width());if(y){var O=(H-J)*N;y.css({left:-O+"px"})}},stop:function(){l=true}})}})}function F(H,M,I){var K=H.parent(),J=K.width(),L=(M/I).toFixed(1);if(L==0){H.css("left",J*L+"px")}else{H.animate({left:(J*L-H.width())+"px"},100)}}function j(J,I){var H=c(J),L=H.eq(1).outerWidth(true),K=-I*L;J.animate({left:K+"px"},200);return false}function c(H){var I;if(H.find("a").length>0){I=H.find("a").siblings()}else{if(H.find("div").length>0){I=H.find("div").siblings()
}else{if(H.find("li").length>0){I=H.find("li").siblings()}else{if(H.find("img").length>0){I=H.find("img").siblings()}}}}return I}function E(J,L){var P=c(J),M=P.length,N=P.outerWidth(true);var K=(J.parent().width()/2).toFixed(1)-5,I=h.position().left,Q=h.outerWidth(true)/2,O=parseInt(P.eq(L).css("margin-left")),H=M*N-J.parent().width();if(l){J.css("left",a)}if(L<x){h.css({left:P.eq(L).position().left+O+"px"},200);l=false}else{if(L>=x&&-J.position().left<H-N||-J.position().left>0&&L<s&&L<C){C=L;J.animate({left:-N*(L-x)+"px"},200);h.animate({left:P.eq(L).position().left+O+"px"},200);l=false}else{h.css({left:P.eq(L).position().left+O+"px"},200);s=L;l=false}}return false}},carouselSlider:function(f,d,b){var h=[],e=0,a=[[0,1,2,3,4],[1,2,3,4,0],[2,3,4,0,1],[3,4,0,1,2],[4,0,1,2,3]],i,g;f.eq(2).addClass("current");f.click(function(){if(f.filter(":animated").length){return false}var m=$(this);if(m.hasClass("current")){window.location.href=m.find(".itemLink").attr("href")}else{var k=f.index(this),l=a[e][k];if(l==0||l==1){var j=e+1;if(j>4){j=0}c("left",e,j);e=j}else{if(l==3||l==4){var j=e-1;if(j<0){j=4}c("right",e,j);e=j}}}return false});d.click(function(){if(f.is(":animated")){return false}var j=e+1;if(j>4){j=0}c("left",e,j);e=j;return false});b.click(function(){if(f.is(":animated")){return false}var j=e-1;if(j<0){j=4}c("right",e,j);e=j;return false});function c(o,n,l){for(var k=0;k<=4;k++){if(a[n][k]==0){i=0.85;if(o=="left"){g=99}else{g=100}}else{if(a[n][k]==4){i=0.85;if(o=="left"){g=100}else{g=99}}else{if(a[n][k]==1||a[n][k]==3){i=0.55;g=101}else{i=0;g=102}}}h[k]={mask:i,left:f.eq(k).position().left,top:f.eq(k).position().top,width:f.eq(k).width(),height:f.eq(k).height(),zIndex:g}}f.removeClass("current");for(var m=0;m<=4;m++){if(a[l][m]==2){f.eq(m).addClass("current")}f.eq(a[n][m]).css({zIndex:h[a[l][m]].zIndex}).animate({left:h[a[l][m]].left,top:h[a[l][m]].top,width:h[a[l][m]].width,height:h[a[l][m]].height});f.eq(a[n][m]).find(".itemMask").animate({opacity:h[a[l][m]].mask})}}},scrollBar:function(h,o,i,c){var f=h.parent(),e=f.outerHeight(),d=o.parent(),g=d.outerHeight(),p=o.outerHeight(),a=e*g/p,l=f.outerWidth(),k=d.outerWidth(),n=o.outerWidth(),b=l*k/n,j=0,m=i||"v",c=c||10;if(m=="v"){h.css({height:a+"px"});o.css("top","0px");h.css("top","0px")}else{h.css({width:b+"px"});o.css("left","0px");h.css("left","0px")}senro.checkRequire("drag",function(){h.draggable({containment:"parent",drag:function(){var r=h.index(this),q=h.eq(r),s;if(m=="v"){s=q.position().top/f.outerHeight();j=Math.round(s*100/((e-a)/e));o.css("top",-o.outerHeight()*s+"px")}else{s=q.position().left/f.outerWidth();j=Math.round(s*100/((l-b)/l));o.css("left",-o.outerWidth()*s+"px")}}})});senro.checkRequire("mouseWheel",function(){d.mousewheel(function(t,u,r,q){j-=(u*c);if(j>100){j=100}else{if(j<0){j=0}}var s=j/100;if(m=="v"){o.css("top",-(p-g)*s+"px");h.css("top",(e-a)*s+"px")}else{o.css("left",-(n-k)*s+"px");h.css("left",(l-b)*s+"px")}return false})})},selectWidget:function(y,a,v,B){var w=$("#"+y),D=w.width(),f=w.attr("name"),x=w.attr("class"),n=a||y+"-icon",q=w.find("option"),b=v||"senroOption_hover",g=q.filter("[selected=selected]").length>0?q.filter("[selected=selected]"):q.eq(0),r=w.attr("data-scrollCube")||"",h=w.attr("data-scrollLine")||"",s=B||"notLimited";w.after('<div id="'+y+'" class="senroSelect '+x+'" data-name="'+f+'" data-value="'+g.val()+'">'+'<a href="javascript:;" class="senroSelect-icon '+n+'"></a>'+'<div class="senroSelect-cont '+x+'">'+'<a class="senroSelected" href="javascript:;" data-value="'+g.val()+'">'+g.html()+"</a>"+'<div class="senroOptions"><div class="senroSelectScrollLine '+h+'"><div class="senroSelectScrollCube '+r+'"></div></div><div class="senroOptionsWrap"></div></div>'+'</div><input class="senroSelectHiddenInput" type="hidden" name="'+f+'" value="'+g.val()+'"/>'+"</div>");w.remove();var A=$("#"+y+" .senroSelect-cont"),z=$("#"+y+" .senroOptions"),u=$("#"+y+" .senroOptionsWrap"),C=$("#"+y+" .senroSelectHiddenInput"),j=g.index(),d=$("#"+y+" .senroSelectScrollLine"),e=$("#"+y+" .senroSelectScrollCube");for(var t=0;t<q.length;t++){if(t==j){if(q.eq(t).attr("class")!=undefined){u.append('<a class="senroOption '+q.eq(t).attr("class")+'" target="'+(q.eq(t).attr("data-target")||"_self")+'" href="'+(q.eq(t).attr("data-url")||"javascript:;")+'" data-select="selected" data-value="'+q.eq(t).val()+'">'+q.eq(t).html()+"</a>")}else{u.append('<a class="senroOption '+q.eq(0).attr("class")+'" target="'+(q.eq(t).attr("data-target")||"_self")+'" href="'+(q.eq(t).attr("data-url")||"javascript:;")+'" data-select="selected" data-value="'+q.eq(t).val()+'">'+q.eq(t).html()+"</a>")}}else{if(q.eq(t).attr("class")!=undefined){u.append('<a class="senroOption '+q.eq(t).attr("class")+'" target="'+(q.eq(t).attr("data-target")||"_self")+'" href="'+(q.eq(t).attr("data-url")||"javascript:;")+'" data-value="'+q.eq(t).val()+'">'+q.eq(t).html()+"</a>")}else{u.append('<a class="senroOption '+q.eq(0).attr("class")+'" target="'+(q.eq(t).attr("data-target")||"_self")+'" href="'+(q.eq(t).attr("data-url")||"javascript:;")+'" data-value="'+q.eq(t).val()+'">'+q.eq(t).html()+"</a>")
}}}var m=$("#"+y+" .senroSelect-icon"),c=$("#"+y),l=$("#"+y+" .senroSelected"),k=u.find(".senroOption"),p=k.eq(0).height();c.add(A).css("width",D+"px");if(s!="notLimited"){var o=s*p;z.css("height",o);d.css("height",o);senro.scrollBar(e,u)}else{z.css("overflow","visible");d.hide()}$(document).click(function(){c.css({overflow:"hidden"})});m.add(l).click(function(){if(c.css("overflow")=="hidden"){$(".senroSelect").css({overflow:"hidden"});c.css({overflow:"visible"})}else{c.css({overflow:"hidden"})}k.each(function(){if($(this).data("select")=="selected"){$(this).addClass(b)}else{$(this).removeClass(b)}});return false});k.mouseenter(function(){$(this).removeClass(b);return false});k.click(function(i){k.data("select","undefined");$(this).data("select","selected");f=$(this).html();C.attr("value",f);c.attr("data-value",f);l.html($(this).html());l.attr("data-value",$(this).attr("data-value"));c.css({overflow:"hidden"})});return false},cssTriangle:function(b,a,c,d){var e={up:{borderWidth:"0"+" "+c+" "+c+" "+c,borderColor:"#000000"+" #000000 "+d+" #000000",ie6borderColor:"transparent"+" transparent "+d+" transparent"},right:{borderWidth:c+" "+"0"+" "+c+" "+c,borderColor:"#000000 #000000 #000000 "+d,ie6borderColor:"transparent transparent transparent "+d},down:{borderWidth:c+" "+c+" "+"0"+" "+c,borderColor:d+" #000000 #000000 #000000",ie6borderColor:d+" transparent transparent transparent"},left:{borderWidth:c+" "+c+" "+c+" "+"0",borderColor:"#000000 "+d+" #000000 #000000",ie6borderColor:"transparent "+d+" transparent transparent"}};b.css({width:0,height:0,lineHeight:"0",borderStyle:"solid",borderWidth:e[a]["borderWidth"]});if(senro.isIE6()){b.css({borderColor:e[a]["borderColor"],filter:"progid:DXImageTransform.Microsoft.Chroma(color='#000000')"})}else{b.css({borderColor:e[a]["ie6borderColor"]})}return false},controlPop:function(g,l,h,i){var d=l,j=i||$('<div class="senroPopMask"></div>'),m=i?j.css("backgroundColor"):"#000",b=i?j.css("opacity"):0.6,k=h||"",c=$("body"),e=arguments[3]?true:false;if(d.find("form").length!=0){d.find("form")[0].reset()}d.css({zIndex:"9999",margin:0});j.css({position:"absolute",left:"0",top:"0",zIndex:"9998",backgroundColor:m,opacity:b});$(window).resize(function(){if(d.is(":visible")){a()}return false});if(g=="show"){a();if(!e){c.append(j)}j.show()}else{if(g=="hide"){d.add(j).hide();if(!e){$(".senroPopMask").remove()}else{j.remove()}}}j.click(function(){d.add(j).hide();if(!e){j.remove()}return false});if(k){k.click(function(){d.add(j).hide();if(!e){j.remove()}return false})}function a(){var p=Math.max(c.height(),$(window).height()),q=$(window).width(),o=($(window).height()-d.outerHeight(true))/2+$(document).scrollTop(),n=(q-d.outerWidth(true))/2;d.css({top:o,left:n}).show();jQuery.visibleShow(d);f(j,q,p);return false}function f(o,p,n){o.css({height:n,width:p});return false}return false},addVideo:function(b,e,c,a,d,f){senro.checkRequire("video",function(){senro.video.objects.push(jwplayer(b).setup({flashplayer:"http://static.woniu.com/script/jwplayer/player.swf",skin:"http://static.woniu.com/script/jwplayer/skin/bekle.zip",file:e,image:c,width:a||442,height:d||331}));senro.video.callbacks.push(f)});return false},addSwf:function(b,d,a,c,e){senro.checkRequire("swf",function(){senro.swf.objects.push(addSWF(d,b,a,c));senro.swf.callbacks.push(e)});return false},addNavFooter:function(c){var d=c||"";var a={type:"text/javascript",src:"http://static.woniu.com/header_tl/pub-header.js",charset:"utf-8",id:"pub-header"};var b={type:"text/javascript",src:"http://static.woniu.com/footer_dl/pub-footer.js",charset:"utf-8",id:"pub-footer"};senro.addScript(a);senro.addScript(b);$("#pub-footer").attr("gamename",d);return false},addShare:function(b,d){var e=$("#"+d)||$("body")[1];var c='<div class="jiathis_style">'+'<a class="jiathis_button_qzone"></a>'+'<a class="jiathis_button_tsina"></a>'+'<a class="jiathis_button_tqq"></a>'+'<a class="jiathis_button_renren"></a>'+'<a class="jiathis_button_kaixin001"></a>'+'<a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jtico jtico_jiathis" target="_blank"></a>'+'<a class="jiathis_counter_style"></a>'+"</div>";var a={type:"text/javascript",src:"http://v3.jiathis.com/code/jia.js?uid=1373876204301599",charset:"utf-8"};b.html(c);senro.addScript(a,e);return false},changeFont:function(d,c,a,b){c.click(function(){d.css({"font-size":"16px"});return false});a.click(function(){d.css({"font-size":"14px"});return false});b.click(function(){d.css({"font-size":"13px"});return false})},backTop:function(a){a.click(function(b){b.preventDefault();$("html,body").animate({scrollTop:0},300)});if(!senro.isIE6()){a.fadeOut(0)}$(window).scroll(function(){if($(document).scrollTop()>0){a.fadeIn(200)}else{a.fadeOut(200)}});return false},addCurrent:function(a,c){var d=window.location.href.split(".html")[0],b=parseInt(d.charAt(d.length-1))-1;a.removeClass(c);a.eq(b).addClass(c);return false},checkLogin:function(a,b){$.getJSON("http://gwpassport.woniu.com/v2/islogin?jsoncallback=?",function(c){if(c.msgcode==1020){a&&a(c)
}else{b&&b(c)}});return false},loginOut:function(a){senro.checkRequire("testHtml5",function(){b(type)});function b(c){if(Modernizr[c]){fun_support_callback&&fun_support_callback()}else{fun_notSupport_callback&&fun_notSupport_callback()}}},fixedDomPos:function(a){if(senro.isIE6()){a.css({position:"absolute"});var c=a.position().top,d=b();$(window).scroll(function(){var e=$(window).scrollTop();if(e<d){a.css({top:e+c})}}).resize(function(){var e=b();a.css({top:c});$(this).scroll()}).scroll();function b(){var g=$(window).height(),f=$("body").height(),e;e=f-g;return e}}return false},fixIE6Png:function(a){if(senro.isIE6()){senro.checkRequire("iePng",function(){DD_belatedPNG.fix("."+a)})}return false},load:function(c,a,b,d){senro.checkRequire("preload",function(){var i=[];i=i.concat(c);var e=new createjs.LoadQueue();e.addEventListener("progress",g);e.addEventListener("complete",f);e.addEventListener("fileload",h);e.loadManifest(i);function h(k){if(k.item.ext=="js"){var j={type:"text/javascript",src:k.item.src};senro.addScript(j)}a&&a(k)}function g(j){b&&b(j.loaded.toFixed(1)*100)}function f(){d&&d(e)}})},tweenColor:function(a,d,b){var c=b||2000;senro.checkRequire("animateColors",function(){a.animate(d,c)});return false},addGradient:function(b,a){var c=b[0];senro.checkRequire("cssSandpaper",function(){cssSandpaper.setGradient(c,"-sand-gradient("+a+");")});return false},css3Rotate:function(b,a){var c=b[0],d=a||0;senro.checkRequire("cssSandpaper",function(){cssSandpaper.setTransform(c,"rotate("+d+"deg)")});return false},css3Translate:function(b,e,d){var c=b[0],a=e||0,f=d||0;senro.checkRequire("cssSandpaper",function(){cssSandpaper.setTransform(c,"translate("+a+"px,"+f+"px)")});return false},css3Scale:function(b,e,d){var c=b[0],a=e||0,f=d||0;senro.checkRequire("cssSandpaper",function(){cssSandpaper.setTransform(c,"scale("+a+", "+f+")")});return false},css3Skew:function(b,e,d){var c=b[0],a=e||0,f=d||0;senro.checkRequire("cssSandpaper",function(){cssSandpaper.setTransform(c,"skew("+a+"deg, "+f+"deg)")});return false},css3SetOpacity:function(a,c){var b=a[0],d=c||1;senro.checkRequire("cssSandpaper",function(){cssSandpaper.setOpacity(b,d)});return false},css3SetTransform:function(b,a){var c=b[0];senro.checkRequire("cssSandpaper",function(){cssSandpaper.setTransform(c,a)});return false},directionAnimate:function(b,a){b.bind("mouseenter mouseleave",function(g){var l=$(this).width();var f=$(this).height();var k=(g.pageX-this.offsetLeft-(l/2))*(l>f?(f/l):1);var i=(g.pageY-this.offsetTop-(f/2))*(f>l?(l/f):1);var j=Math.round((((Math.atan2(i,k)*(180/Math.PI))+180)/90)+3)%4;var c={};var d={};switch(j){case 0:c={top:-f,left:0};d={top:0,left:0};break;case 1:c={top:0,left:l};d={top:0,left:0};break;case 2:c={top:f,left:0};d={top:0,left:0};break;case 3:c={top:0,left:-l};d={top:0,left:0};break}var m=[c,d];if(g.type=="mouseleave"){m=[d,c]}$(a,this).stop().css(m[0]).animate(m[1],200)})},tween:function(g,f,j,d,h,c,e,b,i,a){senro.checkRequire("tweenMax",function(){j["ease"]=h||Cubic.easeIn;j["delay"]=d||0;j["onUpdate"]=c||null;j["onUpdateParams"]=e||[];j["onComplete"]=b||null;j["onCompleteParams"]=i||[];senro.tweenMax.objects.push(TweenLite.to(g,f,j));senro.tweenMax.callbacks.push(a)});return false}};